---
title: Приступая к работе с Git в подсистеме Windows для Linux
description: Узнайте, как настроить Git для контроля версий в подсистеме Windows для Linux.
keywords: WSL, Windows, виндовссубсистем, GNU, Linux, bash, Git, GitHub, управление версиями
ms.date: 06/04/2020
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: c48234be5c3867d771363aaa5e630d8ebe378364
ms.sourcegitcommit: 6ff046993e9f196cdfa04f5f91130e0e4ff1e7fa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/03/2020
ms.locfileid: "89427221"
---
# <a name="get-started-using-git-on-windows-subsystem-for-linux"></a>Приступая к работе с Git в подсистеме Windows для Linux

Git — это наиболее часто используемая система управления версиями. С помощью Git вы можете отслеживание изменений, внесенных в файлы, поэтому у вас есть запись о том, что было сделано, и возможность вернуться к более ранним версиям файлов при необходимости. Кроме того, Git упрощает совместную работу, позволяя объединить изменения, внесенные несколькими людьми, в один источник.

## <a name="git-can-be-installed-on-windows-and-on-wsl"></a>Git можно установить в Windows и на WSL

Важно. при включении WSL и установке дистрибутива Linux устанавливается новая файловая система, отделенная от Windows NTFS C:\. диск на компьютере. В Linux буквы дисков не задаются. Они получают точки подключения. Корневой каталог файловой системы `/` — это точка подключения корневого раздела или папки в случае с WSL. Не все в разделе `/` — это один и тот же диск. Например, на моем ноутбуке я установил две версии Ubuntu (20,04 и 18,04), а также Debian. Если открыть эти дистрибутивы, выберите корневой каталог с командой `cd ~` , а затем введите команду `explorer.exe .` , откроется Проводник Windows и отобразится путь к каталогу для этого дистрибутива.

| Дистрибутив Linux | Путь Windows к домашней папке Access |
| ----------- | ----------- |
| Ubuntu 20.04 | `\\wsl$\Ubuntu-20.04\home\username` |
| Ubuntu 18.04 | `\\wsl$\Ubuntu-18.04\home\username` |
| Debian | `\\wsl$\Debian\home\username` |
| Windows PowerShell | `C:\Users\username` |

> [!TIP]
> Если вы ищете доступ к каталогу файлов Windows из командной строки WSL Distribution, а не к `C:\Users\username` каталогу, то доступ к нему будет осуществляться с помощью `/mnt/c/Users/username` , поскольку дистрибутив Linux просматривает файловую систему Windows как подключенный диск.

Необходимо установить Git в каждой файловой системе, с которой планируется использовать.

![Отображение версий Git по дистрибутив](../media/git-versions.gif)

## <a name="installing-git"></a>Установка Git

Git уже установлен с большей частью подсистемы Windows для дистрибутивов Linux, однако может потребоваться обновление до последней версии. Вам также потребуется настроить файл конфигурации Git.

Сведения об установке Git см. на сайте [скачивания Git для Linux](https://git-scm.com/download/linux) . Каждый дистрибутив Linux имеет собственный диспетчер пакетов и команду install.

Для получения последней стабильной версии GIt в Ubuntu/Debian введите команду:

```bash
sudo apt-get install git
```

> [!NOTE]
> Также может потребоваться [установить Git для Windows](https://git-scm.com/download/win) , если вы этого еще не сделали.

## <a name="git-config-file-setup"></a>Настройка файла конфигурации Git

Чтобы настроить файл конфигурации Git, откройте командную строку, в которой вы работаете, и задайте свое имя с помощью этой команды (заменив "Ваше имя" на имя пользователя Git):

```bash
git config --global user.name "Your Name"
```

Задайте свою электронную почту с помощью этой команды (заменив " youremail@domain.com " на адрес электронной почты, используемый в вашей учетной записи Git):

```bash
git config --global user.email "youremail@domain.com"
```

> [!TIP]
> Если у вас еще нет учетной записи Git, вы можете [зарегистрироваться на сайте GitHub](https://github.com/join). Если вы никогда не использовали Git, обратитесь к [руководствам по GitHub](https://guides.github.com/). Они помогут вам приступить к работе. Если вам нужно изменить файл конфигурации Git, это можно сделать с помощью встроенного текстового редактора, такого как nano: `nano ~/.gitconfig`.

Рекомендуется [защитить учетную запись с помощью двухфакторной проверки подлинности (2FA)](https://help.github.com/en/github/authenticating-to-github/securing-your-account-with-two-factor-authentication-2fa).

## <a name="git-credential-manager-setup"></a>Установка диспетчера учетных данных Git

Диспетчер учетных данных Git позволяет выполнять проверку подлинности на удаленном сервере Git, даже если имеется сложная модель проверки подлинности, например двухфакторная проверка подлинности, Azure Active Directory или использование удаленных URL-адресов SSH, требующих пароля ключа SSH для каждой принудительной отправки Git. Диспетчер учетных данных Git интегрируется в поток проверки подлинности для таких служб, как GitHub, и после проверки подлинности в поставщике услуг размещения запрашивает новый маркер проверки подлинности. Затем маркер сохраняется в [диспетчере учетных данных Windows](https://support.microsoft.com/help/4026814/windows-accessing-credential-manager)в безопасном режиме. В дальнейшем диспетчер учетных данных Git можно использовать для взаимодействия с поставщиком услуг размещения без повторной проверки подлинности. Он просто обратится к маркеру в диспетчере учетных данных Windows.

Чтобы настроить диспетчер учетных данных Git для использования с дистрибутивом WSL, откройте дистрибутив и введите такую команду:

```Bash
git config --global credential.helper "/mnt/c/Program\ Files/Git/mingw64/libexec/git-core/git-credential-manager.exe"
```

Теперь при всех операциях Git, выполняемых в дистрибутиве WSL, будет использоваться диспетчер учетных данных. Если у вас уже есть кэшированные учетные данные для узла, к ним будет выполняться доступ из диспетчера учетных данных. В противном случае отобразится диалоговое окно с запросом учетных данных, даже если вы работаете в консоли Linux.

> [!NOTE]
> Если вы используете ключ GPG для защиты подписывания кода, вам может потребоваться [связать ключ GPG с вашим адресом электронной почты GitHub](https://help.github.com/en/github/authenticating-to-github/associating-an-email-with-your-gpg-key).

## <a name="adding-a-git-ignore-file"></a>Добавление файла игнорирования Git

Рекомендуется добавить gitignore- [файл](https://help.github.com/en/articles/ignoring-files) в проекты. GitHub предлагает [набор полезных шаблонов. gitignore](https://github.com/github/gitignore) с рекомендуемыми настройками файлов gitignore, организованными в соответствии с вашим вариантом использования. Например, вот [шаблон gitignore по умолчанию GitHub для проекта Node.js](https://github.com/github/gitignore/blob/master/Node.gitignore).

Если вы решили [создать репозиторий с помощью веб-сайта GitHub](https://help.github.com/articles/create-a-repo), доступны флажки для инициализации репозитория с файлом readme, gitignore-файлом, настроенным для конкретного типа проекта, и вариантами добавления лицензии, если это необходимо.

## <a name="git-and-vs-code"></a>Git и VS Code

Visual Studio Code поставляется со встроенной поддержкой Git, включая вкладку управления исходным кодом, в которой будут отображаться изменения и работать с различными командами Git. Дополнительные сведения о [поддержке Git VS Code](https://code.visualstudio.com/docs/editor/versioncontrol#_git-support).

## <a name="git-line-endings"></a>Окончания строк Git

Если вы работаете с одной и той же папкой репозитория между Windows, WSL или контейнером, обязательно настройте согласованные окончания строк.

Поскольку Windows и Linux используют разные окончания строк по умолчанию, Git может сообщить о большом количестве измененных файлов, которые не отличаются от их концов строк. Чтобы предотвратить это, можно отключить преобразование конца строки с помощью `.gitattributes` файла или глобально на стороне Windows. См. Этот [VS Code документ об устранении проблем с завершением строк Git](https://code.visualstudio.com/docs/remote/troubleshooting#_resolving-git-line-ending-issues-in-containers-resulting-in-many-modified-files).

## <a name="additional-resources"></a>Дополнительные ресурсы

* [WSL & VS Code](./wsl-vscode.md)
* [Учебная лаборатория GitHub: онлайн-курсы](https://lab.github.com/)
* [Средство визуализации Git](http://git-school.github.io/visualizing-git/)
* [Средства Git — хранилище учетных данных](https://git-scm.com/book/it/v2/Git-Tools-Credential-Storage)
